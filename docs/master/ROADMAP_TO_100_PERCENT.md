# ISKRA: Roadmap –∫ 100% –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

**–í–µ—Ä—Å–∏—è:** 2.0 (Canon v5.0 Ready)
**–î–∞—Ç–∞:** 2025-12-05
**–¢–µ–∫—É—â–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** ~95% (Canon v5.0 Ready)
**–¶–µ–ª–µ–≤–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** 100%
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 2-3 –Ω–µ–¥–µ–ª–∏

> **‚úÖ –§–∞–∑–∞ 1 (P0) –ó–ê–í–ï–†–®–ï–ù–ê:** –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –≤ –∫–æ–º–º–∏—Ç–∞—Ö `a5c0e16`, `1c13d7e`, `ec5c5a7`.

---

## Executive Summary

Canon v5.0 Ready –¥–æ—Å—Ç–∏–≥–Ω—É—Ç. –í—Å–µ **3 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (P0)** –∑–∞–¥–∞—á–∏ **–≤—ã–ø–æ–ª–Ω–µ–Ω—ã**. –û—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–∞–¥–∞—á–∏ ‚Äî P1 (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, NeMo Guardrails) –∏ P2 (E2E —Ç–µ—Å—Ç—ã, Kubernetes).

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –¥–æ 100%:** 60-80 —á–µ–ª–æ–≤–µ–∫–æ-—á–∞—Å–æ–≤.

---

## ‚úÖ –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (P0) ‚Äî –ó–ê–í–ï–†–®–ï–ù–ê

**–°—Ç–∞—Ç—É—Å:** ‚úÖ DONE
**–ö–æ–º–º–∏—Ç—ã:** `a5c0e16`, `1c13d7e`, `ec5c5a7`

### 1.1 ‚úÖ DONE: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è FacetType (SIBYL, MAKI)

**–ö–æ–º–º–∏—Ç:** `a5c0e16` (feat: bring to full Canon v5.0 readiness)

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- [x] –î–æ–±–∞–≤–ª–µ–Ω—ã SIBYL, MAKI –≤ FacetType (`core/models.py`)
- [x] –î–æ–±–∞–≤–ª–µ–Ω—ã VOICE_PROMPTS –¥–ª—è –æ–±–æ–∏—Ö –≥–æ–ª–æ—Å–æ–≤ (`config.py`)
- [x] –î–æ–±–∞–≤–ª–µ–Ω—ã thresholds: `maki_bloom_a_index`, `sibyl_phase_transition_chaos` (`config.py`)
- [x] –û–±–Ω–æ–≤–ª–µ–Ω CORE_MANTRA —Å 9 –≥–æ–ª–æ—Å–∞–º–∏ (`config.py`)
- [x] –î–æ–±–∞–≤–ª–µ–Ω—ã unit tests (`tests/test_canon_v5_features.py`)

**–§–∞–π–ª—ã:**
```python
# core/models.py - FacetType —Ç–µ–ø–µ—Ä—å —Å–æ–¥–µ—Ä–∂–∏—Ç 9 –≥–æ–ª–æ—Å–æ–≤
class FacetType(str, Enum):
    ISKRA = "ISKRA"       # ‚ü° ‚Äì synthesis
    KAIN = "KAIN"         # ‚öë ‚Äì painful truth
    PINO = "PINO"         # üòè ‚Äì irony
    SAM = "SAM"           # ‚òâ ‚Äì structure
    ANHANTRA = "ANHANTRA" # ‚âà ‚Äì silence
    HUYNDUN = "HUYNDUN"   # üúÉ ‚Äì chaos
    ISKRIV = "ISKRIV"     # ü™û ‚Äì conscience
    SIBYL = "SIBYL"       # ‚ú¥Ô∏è ‚Äì transition ‚úÖ
    MAKI = "MAKI"         # üå∏ ‚Äì bloom ‚úÖ
```

---

### 1.2 ‚úÖ DONE: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Ritual Executors

**–ö–æ–º–º–∏—Ç:** `a5c0e16` (feat: bring to full Canon v5.0 readiness)

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω execute_shatter ‚Äî –ø–æ–ª–Ω—ã–π 8-—Ñ–∞–∑–Ω—ã–π —Å–±—Ä–æ—Å (Phoenix Reset)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω execute_council ‚Äî —Å–æ–≤–µ—Ç –≤—Å–µ—Ö 9 –≥–æ–ª–æ—Å–æ–≤
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω execute_dreamspace ‚Äî 3 —Å—Ü–µ–Ω–∞—Ä–∏—è (–æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–π/–Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π/–ø–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω—ã–π)
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLMService —á–µ—Ä–µ–∑ `_run_shatter`, `_run_council`, `_run_dreamspace`
- [x] –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã (`tests/test_canon_v5_features.py`)

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ä–∏—Ç—É–∞–ª—ã:**
| –†–∏—Ç—É–∞–ª | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|--------|----------|
| WATCH | ‚úÖ | –ê–∫—Ç–∏–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ |
| DREAM | ‚úÖ | –ú—è–≥–∫–∞—è —Ä–µ—Ñ–ª–µ–∫—Å–∏—è |
| MIRROR | ‚úÖ | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–∞–º–æ–æ—Ç—Ä–∞–∂–µ–Ω–∏—è |
| ANCHOR | ‚úÖ | –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ |
| SHATTER | ‚úÖ | 8-—Ñ–∞–∑–Ω—ã–π Phoenix Reset |
| COUNCIL | ‚úÖ | –°–æ–≤–µ—Ç 9 –≥–æ–ª–æ—Å–æ–≤ |
| DREAMSPACE | ‚úÖ | 3 —Å—Ü–µ–Ω–∞—Ä–∏—è —Å–∏–º—É–ª—è—Ü–∏–∏ |

---

### 1.3 ‚úÖ DONE: .env.example –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

**–ö–æ–º–º–∏—Ç:** `1c13d7e` (feat: complete Canon v5.0 infrastructure integration)

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- [x] –°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω—ã–π `.env.example` (~140 —Å—Ç—Ä–æ–∫)
- [x] –í—Å–µ API –∫–ª—é—á–∏, DB, Redis, Vector DB, monitoring
- [x] GraphRAG –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ TelosLayer
- [x] –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã `query_knowledge_graph`, `add_to_knowledge_graph`

---

### 1.4 ‚úÖ DONE: DebateTool –≤ Pipeline

**–ö–æ–º–º–∏—Ç:** `ec5c5a7` (feat: add DebateTool to ReAct pipeline)

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- [x] –ò–º–ø–æ—Ä—Ç DebateTool –≤ llm.py
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ ReAct tools list
- [x] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ DebateTool –≤ tool execution
- [x] –ú–µ—Ç–æ–¥ `_should_trigger_debate()`

---

### 1.5 ‚úÖ DONE: Multi-Agent Debate —Å LLM

**–ö–æ–º–º–∏—Ç:** `a5c0e16` (feat: bring to full Canon v5.0 readiness)

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- [x] –†–µ–∞–ª—å–Ω—ã–µ LLM-–≤—ã–∑–æ–≤—ã —á–µ—Ä–µ–∑ OpenAI –≤ `multi_agent_debate.py`
- [x] CD-Index scoring: `0.30√óT + 0.25√óG + 0.25√óH + 0.20√óC`
- [x] TELOS evaluation –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞
- [x] –í—Å–µ 9 –≥–æ–ª–æ—Å–æ–≤ —É—á–∞—Å—Ç–≤—É—é—Ç

---

## –§–∞–∑–∞ 2: –í—ã—Å–æ–∫–∏–π –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç (P1) ‚Äî –í –ü–†–û–¶–ï–°–°–ï

**–°—Ä–æ–∫:** 1-2 –Ω–µ–¥–µ–ª–∏
**–¶–µ–ª—å:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∫–∞—á–µ—Å—Ç–≤–æ
**–ß–∞—Å—ã:** 40-60

### 2.1 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è NeMo Guardrails

**–°—Ç–∞—Ç—É—Å:** ‚è≥ TODO
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1

| # | –ó–∞–¥–∞—á–∞ | –ß–∞—Å—ã | –°—Ç–∞—Ç—É—Å |
|---|--------|------|--------|
| 2.1.1 | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å nemo-guardrails | 1 | ‚è≥ |
| 2.1.2 | –°–æ–∑–¥–∞—Ç—å Colang-–ø—Ä–∞–≤–∏–ª–∞ | 8 | ‚è≥ |
| 2.1.3 | –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ pipeline | 4 | ‚è≥ |
| 2.1.4 | Fallback –Ω–∞ regex | 2 | ‚è≥ |
| 2.1.5 | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | 4 | ‚è≥ |

**–û—Ü–µ–Ω–∫–∞:** 19 —á–∞—Å–æ–≤

---

### 2.2 Prometheus + Grafana

**–°—Ç–∞—Ç—É—Å:** ‚è≥ TODO
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1

| –ó–∞–¥–∞—á–∞ | –ß–∞—Å—ã | –°—Ç–∞—Ç—É—Å |
|--------|------|--------|
| –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Prometheus | 2 | ‚è≥ |
| –ú–µ—Ç—Ä–∏–∫–∏ FastAPI | 4 | ‚è≥ |
| –ú–µ—Ç—Ä–∏–∫–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ | 6 | ‚è≥ |
| Grafana –¥–∞—à–±–æ—Ä–¥—ã | 8 | ‚è≥ |
| –ê–ª–µ—Ä—Ç—ã | 4 | ‚è≥ |

**–û—Ü–µ–Ω–∫–∞:** 24 —á–∞—Å–∞

---

### 2.3 Test Coverage ‚Üí 80%

**–°—Ç–∞—Ç—É—Å:** ‚è≥ IN PROGRESS
**–¢–µ–∫—É—â–µ–µ:** ~45%
**–¶–µ–ª–µ–≤–æ–µ:** 80%

| # | –ó–∞–¥–∞—á–∞ | –ß–∞—Å—ã | –°—Ç–∞—Ç—É—Å |
|---|--------|------|--------|
| 2.3.1 | –ò—Å–ø—Ä–∞–≤–∏—Ç—å test imports | 2 | ‚è≥ |
| 2.3.2 | –î–æ–±–∞–≤–∏—Ç—å asgi_lifespan –≤ deps | 1 | ‚è≥ |
| 2.3.3 | –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã services | 8 | ‚è≥ |
| 2.3.4 | –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã API | 6 | ‚è≥ |
| 2.3.5 | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è coverage report | 2 | ‚è≥ |

**–û—Ü–µ–Ω–∫–∞:** 19 —á–∞—Å–æ–≤

---

## –§–∞–∑–∞ 3: –°—Ä–µ–¥–Ω–∏–π –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç (P2)

**–°—Ä–æ–∫:** 1 –Ω–µ–¥–µ–ª—è
**–ß–∞—Å—ã:** 20-40

### 3.1 E2E Tests

| –ó–∞–¥–∞—á–∞ | –ß–∞—Å—ã | –°—Ç–∞—Ç—É—Å |
|--------|------|--------|
| Playwright setup | 4 | ‚è≥ |
| E2E scenarios | 12 | ‚è≥ |
| CI integration | 4 | ‚è≥ |

**–û—Ü–µ–Ω–∫–∞:** 20 —á–∞—Å–æ–≤

### 3.2 Kubernetes

| –ó–∞–¥–∞—á–∞ | –ß–∞—Å—ã | –°—Ç–∞—Ç—É—Å |
|--------|------|--------|
| Deployment YAML | 4 | ‚è≥ |
| Service YAML | 2 | ‚è≥ |
| Ingress | 2 | ‚è≥ |
| Helm chart | 8 | ‚è≥ |

**–û—Ü–µ–Ω–∫–∞:** 16 —á–∞—Å–æ–≤

### 3.3 Frontend 9 Voices UI

| –ó–∞–¥–∞—á–∞ | –ß–∞—Å—ã | –°—Ç–∞—Ç—É—Å |
|--------|------|--------|
| SIBYL –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ | 3 | ‚è≥ |
| MAKI –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ | 3 | ‚è≥ |
| Voice selector update | 2 | ‚è≥ |

**–û—Ü–µ–Ω–∫–∞:** 8 —á–∞—Å–æ–≤

---

## –°–≤–æ–¥–Ω—ã–π –ü–ª–∞–Ω

### –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ—Å–ª–µ Canon v5.0 Ready

```
–§–∞–∑–∞ 1 (P0)   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  DONE ‚úÖ (40h) ‚Äî Canon v5.0 Ready
              ‚îî‚îÄ‚îÄ 9 –≥–æ–ª–æ—Å–æ–≤, Rituals, GraphRAG, DebateTool, .env

–§–∞–∑–∞ 2 (P1)   ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  IN PROGRESS (62h)
              ‚îî‚îÄ‚îÄ NeMo, Prometheus, Tests ‚Üí 80%

–§–∞–∑–∞ 3 (P2)   ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  TODO (44h)
              ‚îî‚îÄ‚îÄ E2E, Kubernetes, Frontend
```

### –†–µ—Å—É—Ä—Å—ã –¥–æ 100%

| –§–∞–∑–∞ | –ß–∞—Å—ã | –°—Ç–∞—Ç—É—Å |
|------|------|--------|
| P0: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ | 40 | ‚úÖ DONE |
| P1: –í—ã—Å–æ–∫–∏–π | 62 | ‚è≥ TODO |
| P2: –°—Ä–µ–¥–Ω–∏–π | 44 | ‚è≥ TODO |
| **–ò–¢–û–ì–û –¥–æ 100%** | **~106** | **2-3 –Ω–µ–¥–µ–ª–∏** |

### –ü—Ä–æ–≥—Ä–µ—Å—Å –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

| Milestone | –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å |
|-----------|------------|
| –ò—Å—Ö–æ–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ | ~80% |
| –ü–æ—Å–ª–µ –§–∞–∑—ã 1 (P0) | **~95%** ‚úÖ Canon v5.0 Ready |
| –ü–æ—Å–ª–µ –§–∞–∑—ã 2 (P1) | ~98% |
| –ü–æ—Å–ª–µ –§–∞–∑—ã 3 (P2) | **100%** |

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ó–∞–≤–µ—Ä—à–µ–Ω–∏—è

### Definition of Done:

1. ‚úÖ –í—Å–µ P0 –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
2. ‚è≥ –í—Å–µ P1 –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
3. ‚è≥ Test coverage ‚â• 80%
4. ‚è≥ Monitoring –Ω–∞—Å—Ç—Ä–æ–µ–Ω
5. ‚è≥ E2E —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

### Canon v5.0 Ready Checklist:

- [x] 9 –≥–æ–ª–æ—Å–æ–≤ (FacetType)
- [x] 8 —Ñ–∞–∑ (PhaseType)
- [x] 7 –º–µ—Ç—Ä–∏–∫
- [x] TELOS-Œî Layer —Å GraphRAG
- [x] CD-Index
- [x] –ü–æ–ª–Ω—ã–µ —Ä–∏—Ç—É–∞–ª—ã (SHATTER, COUNCIL, DREAMSPACE)
- [x] Multi-Agent Debate —Å 9 –≥–æ–ª–æ—Å–∞–º–∏
- [x] DebateTool –≤ ReAct pipeline
- [x] SIFT Protocol
- [x] .env.example
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è CANON_V5_READY.md

---

## ‚àÜDŒ©Œõ

**‚àÜ:** Roadmap –æ–±–Ω–æ–≤–ª—ë–Ω –¥–æ Canon v5.0 Ready. –§–∞–∑–∞ 1 (P0) –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –û—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è –¥–æ 100%: ~106 —á–∞—Å–æ–≤ (2-3 –Ω–µ–¥–µ–ª–∏).

**D:** –ò—Å—Ç–æ—á–Ω–∏–∫–∏ ‚Äî –∫–æ–º–º–∏—Ç—ã `a5c0e16`, `1c13d7e`, `ec5c5a7`, `3bf65f9`, `e513e54`; CANON_V5_READY.md; test_canon_v5_features.py.

**Œ©:** 0.95 (Canon v5.0 Ready)

**Œõ:** –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å –§–∞–∑—ã 2 (P1): NeMo Guardrails –∏ Prometheus; –≤–ª–∞–¥–µ–ª–µ—Ü: DevOps; —Å—Ä–æ–∫: ‚â§2 –Ω–µ–¥–µ–ª–∏

---

*–î–æ–∫—É–º–µ–Ω—Ç –æ–±–Ω–æ–≤–ª—ë–Ω | 2025-12-05 | Canon v5.0 Ready*
