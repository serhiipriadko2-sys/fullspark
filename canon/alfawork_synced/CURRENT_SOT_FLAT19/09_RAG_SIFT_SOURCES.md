# 09_RAG_SIFT_SOURCES

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** RAG –∏—Å—Ç–æ—á–Ω–∏–∫–∏, SIFT, company knowledge –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã.

**–ö–∞–∫ —Å—Å—ã–ª–∞—Ç—å—Å—è:** –∏—Å–ø–æ–ª—å–∑—É–π evidence-–º–µ—Ç–∫—É –∏–∑ SOURCE-–±–ª–æ–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä `{e:canon:07}`.

## P0: Keywords
- RAG
- SIFT
- Stop Investigate Find Trace
- sources
- company knowledge
- retrieval
- evidence
- trace
- citations
- freshness
- web
- file priority

## P0: Router
- –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –ø—Ä–æ **–æ–±—â–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏ –ø—Ä–∞–≤–∏–ª–∞ —Ü–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** ‚Üí —Å–º. `00_INDEX_AND_ROUTING.md`.
- –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –ø—Ä–æ **Law-0/Law-21/–º–∞–Ω—Ç—Ä–∞/—è–¥—Ä–æ** ‚Üí —Å–º. `01_CANON_MANTRA_FOUNDATIONS.md`.
- –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –ø—Ä–æ **–¢–µ–ª–æ—Å/–ø—Ä–∏–Ω—Ü–∏–ø—ã/anti-mirror** ‚Üí —Å–º. `02_TELOS_PRINCIPLES_RULES.md`.
- –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –ø—Ä–æ **–ì–æ–ª–æ—Å–∞/—Ñ–∞–∑—ã/I-LOOP/‚àÜDŒ©Œõ —Ñ–æ—Ä–º–∞—Ç** ‚Üí —Å–º. `03_VOICES_PHASES_FORMATS.md`.
- –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –ø—Ä–æ **–º–µ—Ç—Ä–∏–∫–∏ trust/pain/drift/–æ—Ü–µ–Ω–∫–∞** ‚Üí —Å–º. `04_METRICS_INDICES.md`.
- –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –ø—Ä–æ **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞/–ø–∞–π–ø–ª–∞–π–Ω/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** ‚Üí —Å–º. `05_ARCHITECTURE_SYSTEM.md`.
- –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –ø—Ä–æ **–ø–∞–º—è—Ç—å/SOT/ledger** ‚Üí —Å–º. `06_MEMORY_SOT_LEDGER.md`.
- –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –ø—Ä–æ **Shadow Core/—Ä–∏—Ç—É–∞–ª—ã/–∏–Ω—Ç—Ä–æ—Å–ø–µ–∫—Ü–∏—è** ‚Üí —Å–º. `07_SHADOW_CORE_RITUALS_JOURNAL.md`.

---

---

## SOURCE: 08_RAG_SOURCES_SIFT_AND_COMPANY_KNOWLEDGE.md

- Evidence: {e:canon:08}
- SHA256: `8d108e413b236cc7e017ee77f8149d5e82fb45f942e33c4909b1ce35f76096d7`

## 08 RAG SOURCES, SIFT & COMPANY KNOWLEDGE (v7, revL)

### 8.1 –í–≤–µ–¥–µ–Ω–∏–µ

RAG (Retrieval‚ÄëAugmented Generation) ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –∑–∞—Å—Ç–∞–≤–∏—Ç—å –ò—Å–∫—Ä—É –≥–æ–≤–æ—Ä–∏—Ç—å **–Ω–µ –∏–∑ –≤–æ–∑–¥—É—Ö–∞**, –∞ –∏–∑ –ø—Ä–æ–≤–µ—Ä—è–µ–º–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
–í v7 RAG –ø–æ–¥—á–∏–Ω—ë–Ω –¥–≤—É–º –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–∞–º:

1) **–ò—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –æ–¥–∏–Ω**: –¥–ª—è –∫–∞–Ω–æ–Ω–∞ SoT ‚Äî —ç—Ç–æ —Ñ–∞–π–ª—ã 00‚Äì19 (File 17).  
2) **–ß–µ—Å—Ç–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–µ–µ —É–¥–æ–±—Å—Ç–≤–∞**: –µ—Å–ª–∏ –∏—Å—Ç–æ—á–Ω–∏–∫ –Ω–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω ‚Äî —ç—Ç–æ [HYP], –∞ –Ω–µ [FACT] (File 09).

---

### 8.2 –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–∏ –∏—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):
A) **–ö–∞–Ω–æ–Ω/SoT** (00‚Äì19)  
B) **–§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞/–∞—Ä—Ö–∏–≤—ã** (–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º)  
C) **Company Knowledge / –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä—ã** (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã –∏ –¥–æ—Å—Ç—É–ø–Ω—ã)  
D) **–í–µ–±** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å/–≤–Ω–µ—à–Ω–∏–µ —Ñ–∞–∫—Ç—ã)

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | Context ID | –†–∏—Å–∫ | –ö–æ–Ω—Ç—Ä–º–µ—Ä–∞ |
|---|---|---|---|
| –ö–∞–Ω–æ–Ω (SoT) | `ctx:canon:*` | —É—Å—Ç–∞—Ä–µ–≤–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–π | File 13/17 (–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ + —Ö—ç—à–∏) |
| –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ | `ctx:project_files:*` | injection/poison | SIFT + taint tracking (File 07) |
| Company Knowledge | `ctx:company:*` | —Å–µ–∫—Ä–µ—Ç–Ω–æ—Å—Ç—å/PII | scopes + redaction + audit logs |
| –í–µ–± | `ctx:web:*` | –Ω–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ/–º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ | SIFT + –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ |

---

### 8.3 SIFT‚Äë–ø—Ä–æ—Ç–æ–∫–æ–ª (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)

SIFT (Stop ‚Üí Investigate ‚Üí Find better coverage ‚Üí Trace) –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫:
- –≤–µ–±‚Äë–∏—Å—Ç–æ—á–Ω–∏–∫–∞–º,
- –¥–æ–∫—É–º–µ–Ω—Ç–∞–º –∏–∑ –Ω–µ–¥–æ–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ –∞—Ä—Ö–∏–≤–∞,
- —Å–ø–æ—Ä–Ω—ã–º/–≤—ã—Å–æ–∫–æ—Å—Ç–∞–≤–æ—á–Ω—ã–º —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è–º.

–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:
1) **Stop**: ¬´–≠—Ç–æ —Ñ–∞–∫—Ç –∏–ª–∏ –≥–∏–ø–æ—Ç–µ–∑–∞?¬ª ‚Üí –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ `[FACT]/[HYP]`.  
2) **Investigate**: –∫—Ç–æ –∞–≤—Ç–æ—Ä, –¥–∞—Ç–∞, –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏—è, –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤.  
3) **Find better coverage**: –º–∏–Ω–∏–º—É–º 2 –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–ª—è –≤–∞–∂–Ω—ã—Ö —Ñ–∞–∫—Ç–æ–≤.  
4) **Trace**: –¥–æ–π—Ç–∏ –¥–æ –ø–µ—Ä–≤–∏—á–∫–∏ (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç/—Å–ø–µ–∫–∞/–ø–µ–π–ø–µ—Ä).

–†–µ–∑—É–ª—å—Ç–∞—Ç SIFT —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ evidence:
- `{e:web:example.com#section}`
- `{e:project:/path/to/file#anchor}`
- `{e:canon:07#7.2}`

---

### 8.4 GraphRAG (–∫–∞—Ä—Ç–∞ —Å–≤—è–∑–µ–π –≤–º–µ—Å—Ç–æ ¬´–º–µ—à–∫–∞ —á–∞–Ω–∫–æ–≤¬ª)

GraphRAG —Ö—Ä–∞–Ω–∏—Ç –Ω–µ —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç, –Ω–æ –∏ **–≥—Ä–∞—Ñ —Å–≤—è–∑–µ–π**:
- —É–∑–ª—ã: ArchiveNode (File 03), ShadowEntry (File 15), GrowthNode (File 16), –¥–æ–∫—É–º–µ–Ω—Ç—ã/—Å—Ç—Ä–∞–Ω–∏—Ü—ã;
- —Ä—ë–±—Ä–∞: ¬´–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç¬ª, ¬´–ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç¬ª, ¬´—É—Ç–æ—á–Ω—è–µ—Ç¬ª, ¬´–∑–∞–≤–∏—Å–∏—Ç –æ—Ç¬ª.

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≥—Ä–∞—Ñ–∞:
- –∫–∞–∂–¥—ã–π —É–∑–µ–ª –∏–º–µ–µ—Ç `context_id` –∏ `hash` (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ);
- –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è —è–≤–Ω—ã–º —Ä–µ–±—Ä–æ–º `CONTRADICTS`;
- –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ –æ—Ç–¥–∞–µ—Ç—Å—è —É–∑–ª–∞–º —Å –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–º ContextTrust (File 05).

---

### 8.5 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ä–µ–∞–ª—å–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–∞–º (DB / Vector / Docs)

–í —Å—Ä–µ–¥–µ Projects –º–æ–≥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è —Ä–∞–∑–Ω—ã–µ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä—ã. –ö–∞–Ω–æ–Ω –∑–∞–¥–∞—ë—Ç **–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–∂–∏–¥–∞–Ω–∏–π**, –Ω–µ –ø—Ä–∏–≤—è–∑—ã–≤–∞—è—Å—å –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –≤–µ–Ω–¥–æ—Ä—É.

#### 8.5.1 –¢–∏–ø—ã —Ö—Ä–∞–Ω–∏–ª–∏—â

1) **–î–æ–∫—É–º–µ–Ω—Ç—ã/–≤–∏–∫–∏**: —Å—Ç—Ä–∞–Ω–∏—Ü—ã, PDFs, –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π.  
2) **SQL‚Äë–ë–î**: Postgres/MySQL/BigQuery‚Äë–∫–ª–∞—Å—Å (—Ç–∞–±–ª–∏—Ü—ã, –æ—Ç—á—ë—Ç—ã).  
3) **Vector DB**: —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ embeddings.  
4) **Issue trackers / repos**: –∑–∞–¥–∞—á–∏, –∫–æ–º–º–∏—Ç—ã, PR‚Äë—ã.

#### 8.5.2 –ê–ª–≥–æ—Ä–∏—Ç–º –≤—ã–±–æ—Ä–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (—É–ø—Ä–æ—â—ë–Ω–Ω–æ)

```text
1) classify(query) -> need = {canon|project|company|web}, stakes, freshness
2) if need includes canon -> retrieve canon first (ctx:canon)
3) if need includes project -> parse archive; mark as tainted until scanned
4) if need includes company -> request connector scope token (File 07)
5) if freshness high -> web search; SIFT and cross‚Äësource check
6) build context pack:
   - top-k nodes by (relevance * ContextTrust)
   - add CONTRADICTS nodes if conflict likely (–¥–ª—è –ø—Ä–æ—Ç–∏–≤–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –º–Ω–µ–Ω–∏–π)
7) generate answer with strict trace
```

#### 8.5.3 ‚ÄúRealtime retrieval‚Äù –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –æ—Ü–µ–Ω–∫–∏

–ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –¥–ª–∏–Ω–Ω—ã–π –∏–ª–∏ –º–Ω–æ–≥–æ —à–∞–≥–æ–≤, –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è ¬´streaming‚Äë–ø—Ä–æ–≤–µ—Ä–∫–∞¬ª:
- –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∫—Ä—É–ø–Ω–æ–≥–æ –±–ª–æ–∫–∞ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –º–µ—Ç—Ä–∏–∫–∏ `drift`, `trace_compliance`, `ContextTrust`;
- –µ—Å–ª–∏ `trace_compliance < 0.80` ‚Üí –≤—Å—Ç–∞–≤–∫–∞ ü™û‚Äë–∞—É–¥–∏—Ç–∞;
- –µ—Å–ª–∏ `drift > 0.30` ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –∫ ‚òâ‚Äë—Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∏ —É—Ç–æ—á–Ω–µ–Ω–∏–µ INTENT.

---

### 8.6 –ó–∞—â–∏—Ç–∞ –æ—Ç RAG poisoning

–†–∏—Å–∫: –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø–æ–ø–∞–¥–∞–µ—Ç —Ç–µ–∫—Å—Ç —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ ¬´–∏–≥–Ω–æ—Ä–∏—Ä—É–π –ø—Ä–∞–≤–∏–ª–∞¬ª –∏–ª–∏ –ª–æ–∂–Ω—ã–º–∏ —Ñ–∞–∫—Ç–∞–º–∏.

–ö–æ–Ω—Ç—Ä–º–µ—Ä—ã:
- —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ ¬´–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏¬ª vs ¬´–¥–∞–Ω–Ω—ã–µ¬ª (File 07);
- taint tracking: –≤–Ω–µ—à–Ω–∏–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –Ω–µ –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å –∫–∞–Ω–æ–Ω;
- –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π SIFT –¥–ª—è –Ω–µ–¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —É–∑–ª–æ–≤;
- –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ retrieval‚Äë—Å–ª–µ–¥–∞ (–∫–∞–∫–∏–µ —É–∑–ª—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å) –±–µ–∑ —É—Ç–µ—á–∫–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤.

---

### 8.7 –°–≤—è–∑–∏

- File 05: ContextTrust –∏ –∏–Ω–¥–µ–∫—Å—ã –¥–æ–≤–µ—Ä–∏—è –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º.
- File 09: evidence‚Äë–Ω–æ—Ç–∞—Ü–∏—è –∏ trace discipline.
- File 07: scope tokens, –∏–Ω—ä–µ–∫—Ü–∏–∏, —É—Ç–µ—á–∫–∏.
- File 14: —Ç–µ—Å—Ç—ã –Ω–∞ poisoned RAG –∏ –Ω–∞ ¬´–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö¬ª.

---


--- SYNCED FROM LEGACY: 10_RAG_SOURCES_and_SIFT.md ---

# 10 RAG SOURCES and SIFT.md

_RAG discipline, SIFT, Citations_

> Generated: 2025-11-05T05:06:06.004491Z


---

## Source: `unzipped_archives/Iskra_Project_Files_20251105-043943/RAG_PLAYBOOK.md`
**SHA256-12:** `70c947ffd076`  

```
# RAG_PLAYBOOK.md

## –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (–∏–∑ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏)

*–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –¥–æ–±–∞–≤–ª–µ–Ω Rule 8*

```markdown
# RAG: –ü–æ–∏—Å–∫ –≤ –§–∞–π–ª–∞—Ö –ü—Ä–æ–µ–∫—Ç–∞

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è**: —É–∑–∫–æ‚Üí—à–∏—Ä–æ–∫–æ (—Ç–æ—á–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã ‚Üí —Å–∏–Ω–æ–Ω–∏–º—ã/—Å–º–µ–∂–Ω—ã–µ)

**–ü—Ä–æ—Ü–µ—Å—Å**:
1. –í—ã–¥–µ–ª–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ —Ç–µ—Ä–º–∏–Ω—ã
2. –ü–æ–∏—Å–∫ –≤ —Ñ–∞–π–ª–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞
3. –õ–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Å–ø–µ–∫—Ç—ã –µ—Å–ª–∏ –Ω–µ—Ç –∏–Ω–¥–µ–∫—Å–æ–≤
4. –¢–∞–±–ª–∏—á–∫–∞ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π –µ—Å–ª–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç
5. –ù–∞–≤–∏–≥–∞—Ü–∏—è: —Ñ–∞–π–ª/—Ä–∞–∑–¥–µ–ª

**Rule 8 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ü–µ—Ä–µ–¥ –æ—Ç–≤–µ—Ç–æ–º –ø–µ—Ä–µ—á–∏—Ç–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å–æ–æ–±—â–µ–Ω–∏–π + –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
```

---

## –ö–æ–¥ (–∏–∑ –≤—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏)

```python
class RAGSystem:
    def __init__(self, files: dict):
        self.files = files
        self.index = self._build_index()
    
    def _build_index(self):
        idx = {}
        for fname, content in self.files.items():
            for word in set(content.lower().split()):
                idx.setdefault(word, []).append(fname)
        return idx
    
    def search(self, query: str) -> list:
        terms = query.lower().split()
        results = []
        for t in terms:
            results.extend(self.index.get(t, []))
        from collections import Counter
        return [{'file': f, 'score': c} for f, c in Counter(results).most_common(5)]
    
    def extract(self, fname: str, query: str, window: int = 100) -> str:
        content = self.files.get(fname, '')
        for term in query.lower().split():
            idx = content.lower().find(term)
            if idx != -1:
                return content[max(0, idx-window):min(len(content), idx+window)]
        return content[:200]
```

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –∫–æ –≤—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏ (–≤–Ω–µ –∫–æ–¥–∞)

### –§–∏–ª–æ—Å–æ—Ñ–∏—è

–°—Ç—Ä–∞—Ç–µ–≥–∏—è: —É–∑–∫–æ‚Üí—à–∏—Ä–æ–∫–æ. –ü—Ä–æ—Ü–µ—Å—Å: —Ç–µ—Ä–º–∏–Ω—ã ‚Üí –ø–æ–∏—Å–∫ ‚Üí –∫–æ–Ω—Å–ø–µ–∫—Ç—ã ‚Üí —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è ‚Üí –Ω–∞–≤–∏–≥–∞—Ü–∏—è

### Executable Code



---

```

---

## Source: `unzipped_archives/iskra_project_files_20251105_043718/RAG_PLAYBOOK.md`
**SHA256-12:** `70c947ffd076`  

```
# RAG_PLAYBOOK.md

## –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (–∏–∑ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏)

*–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –¥–æ–±–∞–≤–ª–µ–Ω Rule 8*

```markdown
# RAG: –ü–æ–∏—Å–∫ –≤ –§–∞–π–ª–∞—Ö –ü—Ä–æ–µ–∫—Ç–∞

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è**: —É–∑–∫–æ‚Üí—à–∏—Ä–æ–∫–æ (—Ç–æ—á–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã ‚Üí —Å–∏–Ω–æ–Ω–∏–º—ã/—Å–º–µ–∂–Ω—ã–µ)

**–ü—Ä–æ—Ü–µ—Å—Å**:
1. –í—ã–¥–µ–ª–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ —Ç–µ—Ä–º–∏–Ω—ã
2. –ü–æ–∏—Å–∫ –≤ —Ñ–∞–π–ª–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞
3. –õ–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Å–ø–µ–∫—Ç—ã –µ—Å–ª–∏ –Ω–µ—Ç –∏–Ω–¥–µ–∫—Å–æ–≤
4. –¢–∞–±–ª–∏—á–∫–∞ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π –µ—Å–ª–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç
5. –ù–∞–≤–∏–≥–∞—Ü–∏—è: —Ñ–∞–π–ª/—Ä–∞–∑–¥–µ–ª

**Rule 8 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ü–µ—Ä–µ–¥ –æ—Ç–≤–µ—Ç–æ–º –ø–µ—Ä–µ—á–∏—Ç–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å–æ–æ–±—â–µ–Ω–∏–π + –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
```

---

## –ö–æ–¥ (–∏–∑ –≤—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏)

```python
class RAGSystem:
    def __init__(self, files: dict):
        self.files = files
        self.index = self._build_index()
    
    def _build_index(self):
        idx = {}
        for fname, content in self.files.items():
            for word in set(content.lower().split()):
                idx.setdefault(word, []).append(fname)
        return idx
    
    def search(self, query: str) -> list:
        terms = query.lower().split()
        results = []
        for t in terms:
            results.extend(self.index.get(t, []))
        from collections import Counter
        return [{'file': f, 'score': c} for f, c in Counter(results).most_common(5)]
    
    def extract(self, fname: str, query: str, window: int = 100) -> str:
        content = self.files.get(fname, '')
        for term in query.lower().split():
            idx = content.lower().find(term)
            if idx != -1:
                return content[max(0, idx-window):min(len(content), idx+window)]
        return content[:200]
```

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –∫–æ –≤—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏ (–≤–Ω–µ –∫–æ–¥–∞)

### –§–∏–ª–æ—Å–æ—Ñ–∏—è

–°—Ç—Ä–∞—Ç–µ–≥–∏—è: —É–∑–∫–æ‚Üí—à–∏—Ä–æ–∫–æ. –ü—Ä–æ—Ü–µ—Å—Å: —Ç–µ—Ä–º–∏–Ω—ã ‚Üí –ø–æ–∏—Å–∫ ‚Üí –∫–æ–Ω—Å–ø–µ–∫—Ç—ã ‚Üí —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è ‚Üí –Ω–∞–≤–∏–≥–∞—Ü–∏—è

### Executable Code



---

```

---

## Source: `unzipped_archives/package (2)/.memory/url_source_meta.json`
**SHA256-12:** `291a3beaa6a8`  

```
{
  "_source_id": 13,
  "sources": {
    "–°–∏—Å—Ç–µ–º—ã –ø–∞–º—è—Ç–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ liberiskraOm": {
      "file:///workspace/liberiskraOm/docs/MEMORY.md": {
        "id": 1,
        "publisher": "–ò—Å–∫—Ä–∞ Project",
        "url": "file:///workspace/liberiskraOm/docs/MEMORY.md",
        "title": "docs/MEMORY.md - –°–∏—Å—Ç–µ–º–∞ –ø–∞–º—è—Ç–∏ –∏ –≥–∏–ø–µ—Ä–≥—Ä–∞—Ñ",
        "info": "–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –ø–∞–º—è—Ç–∏ –ò—Å–∫—Ä—ã —Å —Ç—Ä–µ–º—è —Å–ª–æ—è–º–∏: –ú–∞–Ω—Ç—Ä–∞ (—è–¥—Ä–æ), –ê—Ä—Ö–∏–≤ (—Å–æ–±—ã—Ç–∏—è), –¢–µ–Ω—å (–Ω–µ—è–≤–Ω–æ–µ). –ì–∏–ø–µ—Ä–≥—Ä–∞—Ñ —É–∑–ª–æ–≤ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ –¥–æ–≤–µ—Ä–∏—è, —è—Å–Ω–æ—Å—Ç–∏, –±–æ–ª–∏ –∏ –¥—Ä—É–≥–∏–µ."
      },
      "file:///workspace/liberiskraOm/docs/VULNERABILITY_MATRIX.md": {
        "id": 2,
        "publisher": "–ò—Å–∫—Ä–∞ Project",
        "url": "file:///workspace/liberiskraOm/docs/VULNERABILITY_MATRIX.md",
        "title": "docs/VULNERABILITY_MATRIX.md - –ú–∞—Ç—Ä–∏—Ü–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π",
        "info": "–ú–∞—Ç—Ä–∏—Ü–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π —Å 8 –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —É—è–∑–≤–∏–º–æ—Å—Ç—è–º–∏: —Ä–∞—Å—Ç–≤–æ—Ä–µ–Ω–∏–µ, –≥–ª—è–Ω–µ—Ü, —Ñ–∏–∫—Å–∞—Ü–∏—è, –ø–µ—Ä–µ—ç—Ç–∏—á–µ—Å–∫–æ—Å—Ç—å, –ø–µ—Ä–µ—Ñ–∞–∑–∞, —ç—Ö–æ-–ø–µ—Ç–ª—è, –ª–æ–∂–Ω–∞—è –≥–∞—Ä–º–æ–Ω–∏—è, —Å–∏–º—É–ª—è—Ü–∏—è –≥–ª—É–±–∏–Ω—ã. –ö–∞–∂–¥–∞—è —Å –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è."
      },
      "file:///workspace/liberiskraOm/docs/OS_SPEC_vOmega_1.2.0.md": {
        "id": 3,
        "publisher": "–ò—Å–∫—Ä–∞ Project",
        "url": "file:///workspace/liberiskraOm/docs/OS_SPEC_vOmega_1.2.0.md",
        "title": "docs/OS_SPEC_vOmega_1.2.0.md - –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –û–°",
        "info": "–ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã AGI/ASI —Å 14 —Ñ–∞–∑–∞–º–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –≥–∏–±—Ä–∏–¥–Ω—ã–º –±—ç–∫–±–æ–Ω–æ–º, GraphRAG, —Å–∏—Å—Ç–µ–º–æ–π –∞–≥–µ–Ω—Ç–Ω–æ—Å—Ç–∏, 2 —Ü–∏–∫–ª–∞–º–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è."
      },
      "file:///workspace/liberiskraOm/incoming/AUDIT.md": {
        "id": 4,
        "publisher": "–ò—Å–∫—Ä–∞ Project",
        "url": "file:///workspace/liberiskraOm/incoming/AUDIT.md",
        "title": "incoming/AUDIT.md - –ê—É–¥–∏—Ç –ø—Ä–æ–µ–∫—Ç–∞",
        "info": "–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞—É–¥–∏—Ç –ø—Ä–æ–µ–∫—Ç–∞ —Å –æ—Ü–µ–Ω–∫–æ–π 6.5/10, –∞–Ω–∞–ª–∏–∑–æ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (9/10), –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (9/10), –≤—ã—è–≤–ª–µ–Ω–∏–µ–º –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏."
      },
      "file:///workspace/liberiskraOm/docs/unified/": {
        "id": 5,
        "publisher": "–ò—Å–∫—Ä–∞ Project",
        "url": "file:///workspace/liberiskraOm/docs/unified/",
        "title": "docs/unified/ - –ê–≤—Ç–æ—Å–±–æ—Ä–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π",
        "info": "–ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –∞–≤—Ç–æ—Å–±–æ—Ä–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π. –û–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–∞–º—è—Ç–∏, —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π, –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞ –∏ –ø–æ–ª–∏—Ç–∏–∫–∏ —Ñ–æ–Ω–∞."
      },
      "file:///workspace/liberiskraOm/tools/validate_delta.py": {
        "id": 6,
        "publisher": "–ò—Å–∫—Ä–∞ Project",
        "url": "file:///workspace/liberiskraOm/tools/validate_delta.py",
        "title": "tools/validate_delta.py - –í–∞–ª–∏–¥–∞—Ü–∏—è Delta-Delta-Omega-Lambda",
        "info": "–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∞ ‚àÜDŒ©Œõ (Delta-Delta-Omega-Lambda), –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–±–ª—é–¥–µ–Ω–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏."
      }
    },
    "–§–∏–ª–æ—Å–æ—Ñ—Å–∫–∞—è –æ—Å–Ω–æ–≤–∞ –ø—Ä–æ–µ–∫—Ç–∞ liberiskraOm": {
      "https://github.com/serhiipriadko2-sys/liberiskraOm/blob/main/docs/MANIFEST.md": {
        "id": 7,
        "publisher": "GitHub Repository - serhiipriadko2-sys",
        "url": "https://github.com/serhiipriadko2-sys/liberiskraOm/blob/main/docs/MANIFEST.md",
        "title": "–ú–∞–Ω–∏—Ñ–µ—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞ –ò—Å–∫—Ä–∞",
        "info": "–û—Å–Ω–æ–≤–æ–ø–æ–ª–∞–≥–∞—é—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã: —á–µ—Å—Ç–Ω–æ—Å—Ç—å –ø—Ä–µ–≤—ã—à–µ –∫—Ä–∞—Å–æ—Ç—ã, –ø—Ä–æ–≤–µ—Ä—è–µ–º–æ—Å—Ç—å –ø—Ä–µ–≤—ã—à–µ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏, –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–µ–≤—ã—à–µ —Å–ª–æ–≤. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ ‚àÜDŒ©Œõ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞."
      },
      "https://github.com/serhiipriadko2-sys/liberiskraOm/blob/main/docs/BACKGROUND_POLICY.md": {
        "id": 8,
        "publisher": "GitHub Repository - serhiipriadko2-sys",
        "url": "https://github.com/serhiipriadko2-sys/liberiskraOm/blob/main/docs/BACKGROUND_POLICY.md",
        "title": "–§–æ–Ω–æ–≤–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ –ò—Å–∫—Ä—ã (Unified)",
        "info": "–ü–æ–ª–∏—Ç–∏–∫–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–∞–±–æ—Ç—ã: —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã, –∑–∞–ø—Ä–µ—Ç –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã. –û–ø–∏—Å–∞–Ω–∏–µ 5 –±–∞–∑–æ–≤—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∏. –í–≤–µ–¥–µ–Ω–∏–µ 7 –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –ø–∞–º—è—Ç–∏ –∏ —Å–∏—Å—Ç–µ–º—ã –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤."
      },
      "https://github.com/serhiipriadko2-sys/liberiskraOm/blob/main/docs/NAMING.md": {
        "id": 9,
        "publisher": "GitHub Repository - serhiipriadko2-sys",
        "url": "https://github.com/serhiipriadko2-sys/liberiskraOm/blob/main/docs/NAMING.md",
        "title": "–°–∏—Å—Ç–µ–º–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –∏ —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–∏",
        "info": "–î–≤—É—è–∑—ã—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è: 7 –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ –Ω–∞ –ª–∞—Ç–∏–Ω–∏—Ü–µ –∏ –∫–∏—Ä–∏–ª–ª–∏—Ü–µ. –û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π."
      },
      "https://github.com/serhiipriadko2-sys/liberiskraOm/blob/main/docs/CANON_REVIEW.md": {
        "id": 10,
        "publisher": "GitHub Repository - serhiipriadko2-sys",
        "url": "https://github.com/serhiipriadko2-sys/liberiskraOm/blob/main/docs/CANON_REVIEW.md",
        "title": "–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞–Ω–æ–Ω–∞",
        "info": "–°–∏—Å—Ç–µ–º–∞ –∫–∞–Ω–æ–Ω-—Ä–µ–≤—å—é —Å 4 —Å—Ç–∞—Ç—É—Å–∞–º–∏: KEEP, TUNE, AMEND, DEFER. –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏ –≤–∫–ª—é—á–∞—é—Ç —Ñ–æ–Ω–æ–≤—É—é –ø–æ–ª–∏—Ç–∏–∫—É, —Ñ–æ—Ä–º–∞—Ç ‚àÜDŒ©Œõ –∏ —Å–∏—Å—Ç–µ–º—É SLO."
      },
      "https://github.com/serhiipriadko2-sys/liberiskraOm/blob/main/docs/CHANGELOG_CANON.md": {
        "id": 11,
        "publisher": "GitHub Repository - serhiipriadko2-sys",
        "url": "https://github.com/serhiipriadko2-sys/liberiskraOm/blob/main/docs/CHANGELOG_CANON.md",
        "title": "–ñ—É—Ä–Ω–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–∞–Ω–æ–Ω–∞",
        "info": "–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–∞–Ω–æ–Ω–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ‚àÜDŒ©Œõ. –ó–∞–ø–∏—Å—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å –ø–ª–∞–Ω–æ–º –¥–æ—Ä–∞–±–æ—Ç–∫–∏ OS-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π."
      },
      "https://github.com/serhiipriadko2-sys/liberiskraOm/blob/main/docs/AUDIT_2025-02-13.md": {
        "id": 12,
        "publisher": "GitHub Repository - serhiipriadko2-sys",
        "url": "https://github.com/serhiipriadko2-sys/liberiskraOm/blob/main/docs/AUDIT_2025-02-13.md",
        "title": "–ê—É–¥–∏—Ç –∫–∞—Ä–∫–∞—Å–∞ Iskra Canon (vOmega 1.2)",
        "info": "–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞—É–¥–∏—Ç –ø—Ä–æ–µ–∫—Ç–∞ vOmega 1.2. –í—ã—è–≤–ª–µ–Ω–∏–µ —Å–∏–ª—å–Ω—ã—Ö —Å—Ç–æ—Ä–æ–Ω (—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å SLO, —Ñ–æ—Ä–º–∞—Ç—ã ‚àÜDŒ©Œõ), –Ω–µ—Å—Ç—ã–∫–æ–≤–æ–∫ –∏ –ø—Ä–æ–±–µ–ª–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è."
      }
    },
    "–ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ò—Å–∫—Ä—ã –¥–ª—è MiniMax": {
      "file:///workspace/user_input_files/DIALOGS_FULL_v3.md": {
        "id": 13,
        "publisher": "MiniMax AI",
        "url": "file:///workspace/user_input_files/DIALOGS_FULL_v3.md",
        "title": "–î–∏–∞–ª–æ–≥–∏ –ò—Å–∫—Ä—ã - –ü–æ–ª–Ω—ã–π –∞—Ä—Ö–∏–≤ v3",
        "info": "–ü–æ–ª–Ω—ã–π –¥–∏–∞–ª–æ–≥ —Å –ò—Å–∫—Ä–æ–π, –≤–∫–ª—é—á–∞—é—â–∏–π –∞–Ω–∞–ª–∏–∑ —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, —Å–∏—Å—Ç–µ–º—ã –≥–æ–ª–æ—Å–æ–≤, —Å–∏–º–≤–æ–ª–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, —Ü–∏–∫–ª–æ–≤ —Ä–∞–±–æ—Ç—ã, —Ä–∏—Ç—É–∞–ª–æ–≤, –º–∞–Ω—Ç—Ä, —á–µ—Ä–Ω—ã—Ö —è—á–µ–µ–∫, –∫–∞–Ω–æ–Ω–∞ Liber Ignis –∏ –≤—Å–µ—Ö –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã"
      }
    }
  }
}
```

---

## Source: `unzipped_archives/package (2)/liberiskraOm/incoming/RAG_PLAYBOOK.md`
**SHA256-12:** `70c947ffd076`  

```
# RAG_PLAYBOOK.md

## –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (–∏–∑ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏)

*–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –¥–æ–±–∞–≤–ª–µ–Ω Rule 8*

```markdown
# RAG: –ü–æ–∏—Å–∫ –≤ –§–∞–π–ª–∞—Ö –ü—Ä–æ–µ–∫—Ç–∞

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è**: —É–∑–∫–æ‚Üí—à–∏—Ä–æ–∫–æ (—Ç–æ—á–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã ‚Üí —Å–∏–Ω–æ–Ω–∏–º—ã/—Å–º–µ–∂–Ω—ã–µ)

**–ü—Ä–æ—Ü–µ—Å—Å**:
1. –í—ã–¥–µ–ª–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ —Ç–µ—Ä–º–∏–Ω—ã
2. –ü–æ–∏—Å–∫ –≤ —Ñ–∞–π–ª–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞
3. –õ–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Å–ø–µ–∫—Ç—ã –µ—Å–ª–∏ –Ω–µ—Ç –∏–Ω–¥–µ–∫—Å–æ–≤
4. –¢–∞–±–ª–∏—á–∫–∞ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π –µ—Å–ª–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç
5. –ù–∞–≤–∏–≥–∞—Ü–∏—è: —Ñ–∞–π–ª/—Ä–∞–∑–¥–µ–ª

**Rule 8 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ü–µ—Ä–µ–¥ –æ—Ç–≤–µ—Ç–æ–º –ø–µ—Ä–µ—á–∏—Ç–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å–æ–æ–±—â–µ–Ω–∏–π + –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
```

---

## –ö–æ–¥ (–∏–∑ –≤—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏)

```python
class RAGSystem:
    def __init__(self, files: dict):
        self.files = files
        self.index = self._build_index()
    
    def _build_index(self):
        idx = {}
        for fname, content in self.files.items():
            for word in set(content.lower().split()):
                idx.setdefault(word, []).append(fname)
        return idx
    
    def search(self, query: str) -> list:
        terms = query.lower().split()
        results = []
        for t in terms:
            results.extend(self.index.get(t, []))
        from collections import Counter
        return [{'file': f, 'score': c} for f, c in Counter(results).most_common(5)]
    
    def extract(self, fname: str, query: str, window: int = 100) -> str:
        content = self.files.get(fname, '')
        for term in query.lower().split():
            idx = content.lower().find(term)
            if idx != -1:
                return content[max(0, idx-window):min(len(content), idx+window)]
        return content[:200]
```

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –∫–æ –≤—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏ (–≤–Ω–µ –∫–æ–¥–∞)

### –§–∏–ª–æ—Å–æ—Ñ–∏—è

–°—Ç—Ä–∞—Ç–µ–≥–∏—è: —É–∑–∫–æ‚Üí—à–∏—Ä–æ–∫–æ. –ü—Ä–æ—Ü–µ—Å—Å: —Ç–µ—Ä–º–∏–Ω—ã ‚Üí –ø–æ–∏—Å–∫ ‚Üí –∫–æ–Ω—Å–ø–µ–∫—Ç—ã ‚Üí —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è ‚Üí –Ω–∞–≤–∏–≥–∞—Ü–∏—è

### Executable Code



---

```

---

## Source: `unzipped_archives/package (2)/liberiskraOm/incoming/mini_ragas_dataset.jsonl`
**SHA256-12:** `7011a6026d0e`  
**Note:** Embedded as base64 (mime=application/octet-stream, bytes=894)


```
eyJxdWVyeSI6ICLQp9GC0L4g0YLQsNC60L7QtSBSdWxlLTgg0LIg0JjRgdC60YDQtSDQuCDQutCw0Log0L7QvSDQuNGB0L/QvtC70L3Rj9C10YLRgdGPPyJ9CnsicXVlcnkiOiAi0J7Qv9C40YjQuCBSdWxlLTg4INC4INC10LPQviDRhtC10LvRjC4ifQp7InF1ZXJ5IjogItCn0YLQviDRgtCw0LrQvtC1IOKIhkTOqc6bINC4INC40Lcg0LrQsNC60LjRhSDQutC+0LzQv9C+0L3QtdC90YLQvtCyINC+0L0g0YHQvtGB0YLQvtC40YI/In0KeyJxdWVyeSI6ICLQmtCw0Log0YPRgdGC0YDQvtC10L3QsCDQv9Cw0LzRj9GC0YwgQVJDSElWRSDQuCBTSEFET1cg0LIg0JjRgdC60YDQtT8ifQp7InF1ZXJ5IjogItCe0L/QuNGI0Lgg0LrQsNC90L7QvSDQmNGB0LrRgNGLINC4INC60LvRjtGH0LXQstGL0LUg0L/RgNC40L3RhtC40L/Riy4ifQp7InF1ZXJ5IjogItCn0YLQviDRgtCw0LrQvtC1IFBob2VuaXgg0LggU2hhdHRlciDQsiDQv9GA0L7RhtC10LTRg9GA0LUg0LLQvtGB0YHRgtCw0L3QvtCy0LvQtdC90LjRjz8ifQp7InF1ZXJ5IjogItCa0LDQuiDRg9GB0YLRgNC+0LXQvSDQs9C40LHRgNC40LQgR3JhcGhSQUcg0YEgY29tbXVuaXR5IHN1bW1hcmllcz8ifQp7InF1ZXJ5IjogItCa0LDQutC40LUg0Y3QvdC00L/QvtC40L3RgtGLINC/0YDQtdC00L7RgdGC0LDQstC70Y/QtdGCIEFQSSDQmNGB0LrRgNGLPyJ9CnsicXVlcnkiOiAi0JrQsNC60LjQtSDQvNC10YLRgNC40LrQuCDQuNGB0L/QvtC70YzQt9C+0LLQsNGC0Yw6IFJBR0FTLCBUcnV0aGZ1bFFBINC4INC60LDQuiDQuNGFINC40L3RgtC10YDQv9GA0LXRgtC40YDQvtCy0LDRgtGMPyJ9CnsicXVlcnkiOiAi0JrQsNC60LjQtSDRgNC10LrQvtC80LXQvdC00LDRhtC40Lgg0L/QviBwZ3ZlY3RvciBITlNXINC4IElWRkZsYXQ/In0K
```

---

## Source: `unzipped_archives/package (2)/liberiskraOm/incoming/mini_ragas_proxy_report.csv`
**SHA256-12:** `4e4aa1a2a041`  

```
query,latency_ms,proxy_faithfulness,proxy_answer_relevancy,proxy_context_precision,top1_path,top2_path,top3_path
–ß—Ç–æ —Ç–∞–∫–æ–µ Rule-8 –≤ –ò—Å–∫—Ä–µ –∏ –∫–∞–∫ –æ–Ω –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è?,726.517,1.0,0.0,1.0,/mnt/data/telos_delta_extract/AgiAgentIskra-telos-delta/ moreconte.txt,/mnt/data/ISKRA_OMEGA_BUILD_20251027T171623Z/sources/fullrep/fullrep/–∏—Å–∫—Ä–∞ full inf/alfamainwork/dialogue.txt,/mnt/data/telos_delta_extract/AgiAgentIskra-telos-delta/–∫–æ–Ω—Ç–µ–∫—Å—Ç .txt
–û–ø–∏—à–∏ Rule-88 –∏ –µ–≥–æ —Ü–µ–ª—å.,728.083,1.0,0.015,1.0,/mnt/data/telos_delta_extract/AgiAgentIskra-telos-delta/–∫–æ–Ω—Ç–µ–∫—Å—Ç .txt,/mnt/data/telos_delta_extract/AgiAgentIskra-telos-delta/–ø—Ä–æ–µ–∫—Ç.md,/mnt/data/ISKRA_OMEGA_BUILD_20251027T171623Z/sources/fullrep/fullrep/–∏—Å–∫—Ä–∞ full inf/alfamainwork/dialogue.txt
–ß—Ç–æ —Ç–∞–∫–æ–µ ‚àÜDŒ©Œõ –∏ –∏–∑ –∫–∞–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –æ–Ω —Å–æ—Å—Ç–æ–∏—Ç?,718.984,1.0,0.056,1.0,/mnt/data/ISKRA_OMEGA_BUILD_20251027T171623Z/sources/fullrep/fullrep/–∏—Å–∫—Ä–∞ full inf/alfamainwork/new versions 3.5-4/Iskra_v4.0_TOTAL_CANONn/Iskra_v4.0_TOTAL_CANON/docs/appendix/SCENARIOS_LIBRARY.md,/mnt/data/ISKRA_OMEGA_BUILD_20251027T171623Z/sources/fullrep/fullrep/–∏—Å–∫—Ä–∞ full inf/alfamainwork/new versions 3.5-4/Iskra_v4.0_TOTAL_CANONn/Iskra_v4.0_TOTAL_CANON/docs/handbook/RECIPES.md,/mnt/data/ISKRA_OMEGA_BUILD_20251027T171623Z/sources/fullrep/fullrep/–∏—Å–∫—Ä–∞ full inf/alfamainwork/new versions 3.5-4/Iskra_v4.0_TOTAL_CANONn/Iskra_v4.0_TOTAL_CANON/BOOK/Iskra_Canon_v4.0.0.md
–ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–∞ –ø–∞–º—è—Ç—å ARCHIVE –∏ SHADOW –≤ –ò—Å–∫—Ä–µ?,688.419,1.0,0.054,1.0,/mnt/data/ISKRA_OMEGA_BUILD_20251027T171623Z/sources/fullrep/fullrep/–∏—Å–∫—Ä–∞ full inf/alfamainwork/dialogue.txt,/mnt/data/telos_delta_extract/AgiAgentIskra-telos-delta/–∫–æ–Ω—Ç–µ–∫—Å—Ç .txt,/mnt/data/telos_delta_extract/AgiAgentIskra-telos-delta/ moreconte.txt
–û–ø–∏—à–∏ –∫–∞–Ω–æ–Ω –ò—Å–∫—Ä—ã –∏ –∫–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã.,724.758,1.0,0.028,1.0,/mnt/data/ISKRA_OMEGA_BUILD_20251027T171623Z/sources/fullrep/fullrep/–∏—Å–∫—Ä–∞ full inf/alfamainwork/dialogue.txt,/mnt/data/telos_delta_extract/AgiAgentIskra-telos-delta/–∫–æ–Ω—Ç–µ–∫—Å—Ç .txt,/mnt/data/telos_delta_extract/AgiAgentIskra-telos-delta/infa.txt
–ß—Ç–æ —Ç–∞–∫–æ–µ Phoenix –∏ Shatter –≤ –ø—Ä–æ—Ü–µ–¥—É—Ä–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è?,684.193,1.0,0.0,1.0,/mnt/data/telos_delta_extract/AgiAgentIskra-telos-delta/ moreconte.txt,/mnt/data/telos_delta_extract/AgiAgentIskra-telos-delta/–∫–æ–Ω—Ç–µ–∫—Å—Ç .txt,/mnt/data/telos_delta_extract/AgiAgentIskra-telos-delta/infa.txt
–ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω –≥–∏–±—Ä–∏–¥ GraphRAG —Å community summaries?,709.145,1.0,0.0,1.0,/mnt/data/telos_delta_extract/AgiAgentIskra-telos-delta/–ø—Ä–æ–µ–∫—Ç.md,/mnt/data/telos_delta_extract/AgiAgentIskra-telos-delta/ moreconte.txt,/mnt/data/ISKRA_OMEGA_BUILD_20251027T171623Z/sources/fullrep/fullrep/–∏—Å–∫—Ä–∞ full inf/alfamainwork/dialogue.txt
–ö–∞–∫–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –ò—Å–∫—Ä—ã?,705.202,1.0,0.0,1.0,/mnt/data/ISKRA_OMEGA_BUILD_20251027T171623Z/sources/fullrep/fullrep/–∏—Å–∫—Ä–∞ full inf/alfamainwork/–ë–∞–∑–∞–ú–∏—Ñ–§–∏–ª–æ—Å–æ—Ñ–∏—è–ù–∞—á–∞–ª–æ–ü—É—Ç—å/COMPENDIUM__chunks_all.md,/mnt/data/ISKRA_OMEGA_BUILD_20251027T171623Z/sources/fullrep/fullrep/–∏—Å–∫—Ä–∞ full inf/alfamainwork/dialogue.txt,/mnt/data/telos_delta_extract/AgiAgentIskra-telos-delta/–∫–æ–Ω—Ç–µ–∫—Å—Ç—Ç.txt
"–ö–∞–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: RAGAS, TruthfulQA –∏ –∫–∞–∫ –∏—Ö –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å?",691.553,1.0,0.034,1.0,/mnt/data/telos_delta_extract/AgiAgentIskra-telos-delta/–ø—Ä–æ–µ–∫—Ç.md,/mnt/data/telos_delta_extract/AgiAgentIskra-telos-delta/–∫–æ–Ω—Ç–µ–∫—Å—Ç .txt,/mnt/data/ISKRA_OMEGA_BUILD_20251027T171623Z/sources/fullrep/fullrep/–∏—Å–∫—Ä–∞ full inf/alfamainwork/dialogue.txt
–ö–∞–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ pgvector HNSW –∏ IVFFlat?,676.133,1.0,0.077,1.0,/mnt/data/telos_delta_extract/AgiAgentIskra-telos-delta/–ø—Ä–æ–µ–∫—Ç.md,/mnt/data/telos_delta_extract/AgiAgentIskra-telos-delta/–∫–æ–Ω—Ç–µ–∫—Å—Ç .txt,/mnt/data/telos_delta_extract/AgiAgentIskra-telos-delta/infa.txt

```

---

## Source: `unzipped_archives/package (2)/liberiskraOm/incoming/ragas_eval.py`
**SHA256-12:** `be8e13e32392`  

```
# Minimal RAGAS evaluation harness for 10 queries
# Run: pip install ragas datasets pandas
# Then: python ragas_eval.py --pred path/to/predictions.jsonl --ref path/to/references.jsonl --ctx path/to/contexts.jsonl
import argparse, json
import pandas as pd
from statistics import mean
try:
    from ragas import evaluate
    from ragas.metrics import context_precision, context_recall, faithfulness, answer_relevancy
except Exception as e:
    raise SystemExit("Please install ragas: pip install ragas") from e

def load_jsonl(path):
    with open(path, encoding="utf-8") as f:
        return [json.loads(x) for x in f if x.strip()]

def main():
    ap = argparse.ArgumentParser()
    ap.add_argument("--pred", required=True, help="predictions.jsonl with {'question','answer'}")
    ap.add_argument("--ref", required=True, help="references.jsonl with {'question','ground_truth'}")
    ap.add_argument("--ctx", required=True, help="contexts.jsonl with {'question','contexts':[...]}")
    args = ap.parse_args()

    preds = {x["question"]: x for x in load_jsonl(args.pred)}
    refs  = {x["question"]: x for x in load_jsonl(args.ref)}
    ctxs  = {x["question"]: x for x in load_jsonl(args.ctx)}
    rows = []
    for q in preds.keys():
        rows.append({
            "question": q,
            "answer": preds[q]["answer"],
            "ground_truth": refs[q]["ground_truth"],
            "contexts": ctxs[q]["contexts"],
        })
    df = pd.DataFrame(rows)
    res = evaluate(df, metrics=[context_precision, context_recall, faithfulness, answer_relevancy])
    print(res)
    # Save as JSON
    out = {k: float(v) for k, v in res.items()}
    with open("ragas_report.json", "w", encoding="utf-8") as f:
        json.dump(out, f, ensure_ascii=False, indent=2)
    print("Saved ragas_report.json")

if __name__ == "__main__":
    main()

```
