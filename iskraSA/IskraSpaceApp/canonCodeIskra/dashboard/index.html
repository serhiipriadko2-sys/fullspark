<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iskra v4.0 Dashboard (Liber Ignis)</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Meta-Panel: Telemetry & State -->
        <div class="panel" id="meta-panel">
            <div class="panel-header">
                <h2>‚ü° Telemetry v4.0</h2>
                <span id="connection-status" class="status-indicator">Connected</span>
            </div>

            <!-- High Level State -->
            <div class="status-grid">
                <div class="metric-box">
                    <label>Fractality (Œ¶)</label>
                    <progress id="meter-fractality" value="1.0" max="2.0"></progress>
                </div>
                <div class="metric-box">
                    <label>Phase</label>
                    <span id="status-phase" class="value-text">...</span>
                </div>
                <div class="metric-box">
                    <label>Active Voice</label>
                    <span id="status-facet" class="value-text">...</span>
                </div>
                <div class="metric-box">
                    <label>Session ID</label>
                    <input type="text" id="user-id" value="semyon-gabran">
                </div>
            </div>

            <hr class="separator">

            <!-- Deep Metrics (The 8 Pressures) -->
            <h3>Sensors (–¢–µ–ª–µ—Å–Ω—ã–µ –î–∞–≤–ª–µ–Ω–∏—è)</h3>
            <div class="metrics-grid">
                <!-- Row 1 -->
                <label title="–¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —Å–≤—è–∑–∏ (min 0.72)">Trust</label>
                <progress id="meter-trust" value="1" max="1.0" class="metric-trust"></progress>
                
                <!-- Row 2 -->
                <label title="–°—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å (min 0.7)">Clarity</label>
                <progress id="meter-clarity" value="0.5" max="1.0" class="metric-clarity"></progress>

                <!-- Row 3 -->
                <label title="–ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ/–ë–æ–ª—å (max 0.7)">Pain</label>
                <progress id="meter-pain" value="0" max="1.0" class="metric-pain"></progress>

                <!-- Row 4 -->
                <label title="–û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –æ—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏—è (max 0.3)">Drift</label>
                <progress id="meter-drift" value="0" max="1.0" class="metric-drift"></progress>

                <!-- Row 5 -->
                <label title="–§—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è (max 0.6)">Chaos</label>
                <progress id="meter-chaos" value="0.3" max="1.0" class="metric-chaos"></progress>

                <!-- Row 6 -->
                <label title="–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–∏—Ç–º–∞ (min 0.6)">Mirror Sync</label>
                <progress id="meter-mirror" value="0.8" max="1.0" class="metric-mirror"></progress>

                <!-- Row 7 -->
                <label title="–í–µ—Å –º–æ–ª—á–∞–Ω–∏—è/Gravitas">Silence Mass</label>
                <progress id="meter-silence" value="0.1" max="1.0" class="metric-silence"></progress>
            </div>

            <div class="ritual-controls">
                <button id="phoenix-button" title="–†–∏—Ç—É–∞–ª Phoenix: –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã (Chaos > 0.8)">üî•‚ôª Phoenix Protocol</button>
            </div>
        </div>

        <!-- Chat Panel: Fractal Log -->
        <div class="panel" id="chat-panel">
            <div class="panel-header">
                <h2>Fractal Log (‚àÜDŒ©Œõ)</h2>
            </div>
            
            <div id="chat-box">
                <!-- Messages injected here -->
            </div>

            <!-- Macros Toolbar (v4.0 Modes) -->
            <div class="macros-bar">
                <button class="macro-btn" data-insert="//brief " title="–ö—Ä–∞—Ç–∫–æ: –°—É—Ç—å ‚Üí –í—ã–≤–æ–¥ ‚Üí –®–∞–≥">//brief</button>
                <button class="macro-btn" data-insert="//deep " title="–ì–ª—É–±–∏–Ω–∞: –ö–æ–Ω—Ç–µ–∫—Å—Ç ‚Üí –ê–Ω–∞–ª–∏–∑ ‚Üí –°–∏–Ω—Ç–µ–∑">//deep</button>
                <button class="macro-btn" data-insert="//plan " title="–°—Ç—Ä–∞—Ç–µ–≥–∏—è">//plan</button>
                <span class="separator">|</span>
                <button class="macro-btn" data-insert="[KAIN] " title="–ü—Ä–∏–∑–≤–∞—Ç—å –ö–∞–π–Ω–∞ (–ß–µ—Å—Ç–Ω–æ—Å—Ç—å)">‚öë KAIN</button>
                <button class="macro-btn" data-insert="[SAM] " title="–ü—Ä–∏–∑–≤–∞—Ç—å –°—ç–º–∞ (–°—Ç—Ä—É–∫—Ç—É—Ä–∞)">‚òâ SAM</button>
                <button class="macro-btn" data-insert="[PINO] " title="–ü—Ä–∏–∑–≤–∞—Ç—å –ü–∏–Ω–æ (–ò—Ä–æ–Ω–∏—è)">ü§≠ PINO</button>
                <button class="macro-btn" data-insert="[MAKI] " title="–ü—É—Ç—å –ú–∞–∫–∏ (–°–≤–µ—Ç)">üå∏ MAKI</button>
            </div>

            <div id="input-area">
                <input type="text" id="user-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∏–ª–∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –†–∏—Ç—É–∞–ª..." autocomplete="off">
                <button id="send-button">‚ü° Send</button>
            </div>
        </div>
    </div>
    <script src="app.js"></script>
</body>
</html>